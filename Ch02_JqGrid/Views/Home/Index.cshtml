@{
    ViewBag.Title = "JqGrid";
}

<link href="~/Content/themes/base/jquery.ui.all.css" rel="stylesheet" type="text/css" />
<link href="~/Content/jquery.jqGrid/ui.jqgrid.css" rel="stylesheet" type="text/css" />
<script src="~/Scripts/jquery-ui-1.8.11.min.js" type="text/javascript"></script>
<script src="~/Scripts/jquery.jqGrid.min.js" type="text/javascript"></script>
<script src="~/Scripts/i18n/grid.locale-ru.js" type="text/javascript"></script>
<style>
    body {
        background-color: #f0f0ffa;
    }

    .ui-jqgrid .ui-pg-input {
        height: 20px;
    }

    .ui-jqgrid .ui-jqgrid-pager {
        height: 50px;
    }
</style>

<h2>jQGrid</h2>
<table id="jqg"></table>
<div id="jpager"></div>
<script type="text/javascript">
    $(document).ready(function () {
        $("#jqg").jqGrid({
            url: '@Url.Action("GetData")',
            datatype: "json",
            colNames: ['Id', 'Название', 'Автор', 'Год', 'Цена'],
            colModel: [
                { name: 'Id', index: 'Id', width: 30, stype: 'int' },
                { name: 'Name', index: 'Name', width: 150, sortable: true },
                { name: 'Author', index: 'Author', width: 150, sortable: true },
                { name: 'Year', index: 'Year', width: 100, sortable: false },
                { name: 'Price', index: 'Price', width: 80, align: "right", sortable: true }
            ],
            rowNum: 5, // число отображаемых строк
            rowList: [10, 20, 30],
            pager: '#jpager',
            loadonce: true, // загрузка только один раз
            sortname: 'Id', // сортировка по умолчанию по столбцу Id
            sortorder: "desc", // порядок сортировки
            caption: "Список Книг"
        });
        $("#jqg").jqGrid('navGrid', '#jpager', {

            add: false,
            del: false,
            edit: false,
            search: true,
            searchtext: "Поиск",
            refresh: true,
            refreshtext: "Обновить"
        });
    });
</script>
